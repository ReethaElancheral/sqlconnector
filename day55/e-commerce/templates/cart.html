{% extends "base.html" %}
{% block title %}Your Cart{% endblock %}
{% block content %}
  <h1>Your Cart</h1>
  {% if items %}
    <table class="table">
      <thead><tr><th>Product</th><th>Price</th><th>Qty</th><th>Subtotal</th><th></th></tr></thead>
      <tbody>
        {% for i in items %}
        <tr data-item-id="{{ i.id }}">
          <td>{{ i.product.name }}</td>
          <td>${{ '%.2f' % (i.product.price_cents / 100.0) }}</td>
          <td><input type="number" min="1" value="{{ i.quantity }}" class="qty-input"></td>
          <td class="subtotal">${{ '%.2f' % ((i.product.price_cents * i.quantity) / 100.0) }}</td>
          <td><button class="btn small danger remove-item">Remove</button></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="total">
      <strong>Total:</strong> ${{ '%.2f' % (total_cents / 100.0) }}
    </div>
  {% else %}
    <p>Your cart is empty.</p>
  {% endif %}
{% endblock %}
